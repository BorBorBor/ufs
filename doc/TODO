TODO ÂµFS v1
===========

MUST HAVE
---------

Model:
- Implement the new transaction semantics with regard to no connections between
  group et al. See docs. Must problably mainly be controlled by testing a lot
  more.
- set_reject, etc, need to be enforce who is allowed to alter state. A user may
  reject his withdrawal request. An admin may reject everything not already
  recieved or rejected.
- Unit tests of account balance and lots of properties. See FIXMEs.
- Should user/group_account_set only contain active accounts, check that this
  has been done right.

Views:
- Use decorators to control commit/rollback of transactions. At least in all
  views which has to do with transactions. Check possible django bug :(

Forms:

Templates:
- Transaction list and approve transaction view et al. should resemble each
  other more.
- Update Norwegian translation. Last done 2008-03-23.
- If admin only is set we should probably hide the parts of a large
  multitransaction that is not linked to user, hiding numbers or entire
  useraccounts

New features:
- 'New claim' as an action for regular users to claim expenses from each other
  or from the group. Will need a Group.expense_account field.
- Admin rejection of user claims (and deposits and withdrawals), using
  TransactionMessage, only missing emails, but perhaps messages is enough?
- Do something reasonable with settlements or simply remove them.

Other:
- Should we be able to cancel payments that are set to payed by user deposit
  but never payed?


SHOULD HAVE
-----------

- Create correction transactions in a non-manual manner.

New features:
- Settlement
- Creating invoices for other groups, either for email or printing.
- User registration of expenses. Includes adding {sales,expense}_account to
  Group. This is listed in the roadmap as a v2 feature.

MIGHT HAVE
----------
- Figure out a smart way of creating papers/pdf's to use in BSF. A standerdised
  setup would probably be beneficial.


DONE
----

(emptied 2008-03-24)
- Add missing {% trans %} tags on tabs, etc.
- Respect active flag for accounts, or at least indicate that account is
  inactive. As of 2008-03-24, the account summary does not allow showing
  disabled accounts if group.admin_only=True and inactive accounts have a
  strike-through in the account list in the group summary.
- (adamcik) Finish group-transaction view, it doesn't know what to do with POST
  data yet.
- (adamcik) Use newforms for lists.
- (adamcik) Cleanup reports.views, i.e. finish rewrite of new/edit list.
- (adamcik) Finish rewrite of approve/change transaction state form. Needs
  testing.

NOT AN ISSUE
------------

- More sanity checking, prevent admin from performing transactions that he does
  not have enough privileges to invoke (should be done in form and/or model)
  (Is this still a problem with our new model??)
  * get_valid_choices() must check session user before returning
  * Use get_valid_choices() in "Register transaction"

WONTFIX
-------

(emptied 2008-03-24)
- Generalize tabs somehow. Do not repeat code in all templates. Mark active tab
  dynamically.
