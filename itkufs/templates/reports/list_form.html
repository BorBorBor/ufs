{% extends "reports/base.html" %}
{% load i18n %}

{% block content %}

<h2>Create or edit list</h2>

<form action="." method="post" id="new_list">

<input type="hidden" name="group" value="{{ group.id }}" />

{% if form.name.errors %}
<ul class="errorlist">
   {% for error in form.name.errors %}
    <li>{{ error }}</li>
   {% endfor%}
</ul>
{% endif %}
<p>
    <label>Name:</label> {{ form.name }}
</p>

{% if form.slug.errors %}
<ul class="errorlist">
   {% for error in form.slug.errors %}
    <li>{{ error }}</li>
   {% endfor%}
</ul>
{% endif %}

<p>
    <label>Slug:</label> {{ form.slug }}
</p>

{% if form.account_width.errors %}
<ul class="errorlist">
   {% for error in form.account_width.errors %}
    <li>{{ error }}</li>
   {% endfor%}
</ul>
{% endif %}
<p>
    <label>Account Width:</label> {{ form.account_width }}
</p>

{% if form.balance_width.errors %}
<ul class="errorlist">
   {% for error in form.balance_width.errors %}
    <li>{{ error }}</li>
   {% endfor%}
</ul>
{% endif %}
<p>
    <label>Balance Width:</label> {{ form.balance_width }}
</p>

{% if form.double.errors %}
<ul class="errorlist">
   {% for error in form.double.errors %}
    <li>{{ error }}</li>
   {% endfor%}
</ul>
{% endif %}
<p>
    <label>Double:</label> {{ form.double }}
</p>

{% if form.ignore_blocked.errors %}
<ul class="errorlist">
   {% for error in form.ignore_blocked.errors %}
    <li>{{ error }}</li>
   {% endfor%}
</ul>
{% endif %}
<p>
    <label>Ignore blocked:</label> {{ form.ignore_blocked }}
</p>

{% if form.accounts.errors %}
<ul class="errorlist">
   {% for error in form.accounts.errors %}
    <li>{{ error }}</li>
   {% endfor%}
</ul>
{% endif %}
<p>
    <label>Accounts:</label> {{ form.accounts }}
    *FIXME*: This needs newforms for us to be able to limit the accounts
</p>

<p><label>Columns:</label></p>
<table id="listcolumns" class="tablelist">
    <tr>
        <th>Name</th> <th>Width</th>
    </tr>
    {% for column in form.listcolumn %}
    <tr class="{% cycle evenrow,oddrow %}">
        {{ column.id }}
        <td{% if column.name.errors %} class="error"{% endif %}>{{ column.name }}</td>
        <td{% if column.width.errors %} class="error"{% endif %}>{{ column.width }}</td>
    </tr>
    {% endfor %}
</table>
<p>
    <button type="submit">{% if object.id %}Update list{% else %}Create list{% endif %}</button>
</p>
</form>
{% endblock %}
